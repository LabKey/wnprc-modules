<query xmlns="http://labkey.org/data/xml/query">
    <metadata>
        <tables xmlns="http://labkey.org/data/xml">
            <tableTitle>Surgery/Procedure</tableTitle>
            <table tableName="surgery_procedure" tableDbType="TABLE">
                <javaCustomizer>org.labkey.ehr.table.DefaultEHRCustomizer</javaCustomizer>
                <!--<tableUrl>/EHR/necropsyDetails.view?key=${objectid}</tableUrl>-->
                <updateUrl>/ehr/manageRecord.view?schemaName=study&amp;queryName=surgery_procedure&amp;keyField=lsid&amp;key=${lsid}&amp;update=1</updateUrl>
                <!--<importUrl/>-->
                <!--<updateUrl/>-->
                <!--<deleteUrl/>-->
                <!--<titleColumn>rowid</titleColumn>-->
                <columns>
                    <column columnName="editLink">
                        <columnTitle>Edit Link</columnTitle>
                        <!--<url>/ehr/manageRecord.view?schemaName=study&amp;queryName=surgery_procedure&amp;keyField=lsid&amp;key=${lsid}&amp;update=1</url>-->
                        <url>/EHR/dataEntryForm.view?formType=${formtype}&amp;requestid=${requestid}</url>
                    </column>
                    <column columnName="Id">
                        <columnTitle>Animal ID</columnTitle>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="date">
                        <columnTitle>Start Table Time</columnTitle>
                        <formatString>yyyy-MM-dd HH:mm</formatString>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="enddate">
                        <columnTitle>End Time</columnTitle>
                        <formatString>yyyy-MM-dd HH:mm</formatString>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="procedureType">
                        <columnTitle>Procedure Type</columnTitle>
                        <fk>
                            <fkDbSchema>wnprc</fkDbSchema>
                            <fkTable>surgery_procedure_type</fkTable>
                            <fkColumnName>type</fkColumnName>
                        </fk>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="procedureName">
                        <columnTitle>Procedure Name</columnTitle>
                        <fk>
                            <fkDbSchema>wnprc</fkDbSchema>
                            <fkTable>surgery_procedure_name</fkTable>
                            <fkColumnName>name</fkColumnName>
                        </fk>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="location">
                        <columnTitle>Location</columnTitle>
                        <fk>
                            <fkDbSchema>wnprc</fkDbSchema>
                            <fkTable>surgery_procedure_rooms</fkTable>
                            <fkColumnName>room</fkColumnName>
                        </fk>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="project">
                        <columnTitle>Project</columnTitle>
                        <fk>
                            <fkDbSchema>ehr</fkDbSchema>
                            <fkTable>project</fkTable>
                            <fkColumnName>project</fkColumnName>
                        </fk>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="account">
                        <columnTitle>Grant</columnTitle>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="surgeon">
                        <columnTitle>Surgeon</columnTitle>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="consultRequest">
                        <columnTitle>New Project / Consult Request</columnTitle>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="biopsyNeeded">
                        <columnTitle>Necropsy/Biopsy Needed</columnTitle>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="surgeryTechNeeded">
                        <columnTitle>Surgery Tech Needed</columnTitle>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="spiNeeded">
                        <columnTitle>SPI Needed</columnTitle>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="vetNeeded">
                        <columnTitle>Vet Needed</columnTitle>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="vetNeededReason">
                        <columnTitle>Reason Vet is Needed</columnTitle>
                        <nullable>false</nullable>
                    </column>
                    <column columnName="statusChangeReason">
                        <columnTitle>Hold/Deny Reason</columnTitle>
                        <nullable>true</nullable>
                    </column>
                </columns>
            </table>
        </tables>
    </metadata>
</query>