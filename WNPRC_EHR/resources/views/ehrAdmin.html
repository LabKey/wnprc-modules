<script type="text/javascript" nonce="<%=scriptNonce%>">

Ext4.onReady(function (){

if (LABKEY.Security.currentUser.isAdmin){
    var webpart = <%=webpartContext%>;

    Ext4.create('EHR.NavMenu', {
        renderTo: webpart.wrapperDivId,
        width: 350,
        sections: [
            {header: 'Admin',
                items: [
                    {name: 'Client Errors', url: '<%=contextPath%>' + '/shared/query-executeQuery.view?schemaName=auditlog&query.queryName=Client%20API%20Actions'},
                    {name: 'EHR Backups', url: '<%=contextPath%><%=containerPath%>/Backups/project-begin.view'},
                    {name: 'ETL Admin', url: '<%=contextPath%><%=containerPath%>/onprc_ehr-etlAdmin.view'},
                    {name: 'Genetics Calculations', url: '<%=contextPath%><%=containerPath%>/ehr-geneticCalculationSettings.view'},
                    //{name: 'ETL Duration', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=core&query.queryName=Sync Duration'},
                    //{name: 'ETL History', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=core&query.queryName=Sync History'},
                    {name: 'Gems Backups', url: '<%=contextPath%><%=containerPath%>/Backups/Gems Backups/project-begin.view'},
                    {name: 'Junit Tests', url: '<%=contextPath%>' + '/junit-begin.view'},
                    {name: 'Manage EHR Study', url: '<%=contextPath%><%=containerPath%>/study-manageStudy.view'},
                    {name: 'Populate Initial Data', url: '<%=contextPath%><%=containerPath%>/ehr-populateInitialData.view'},
                    {name: 'Set EHR Properties', url: '<%=contextPath%><%=containerPath%>/core-modulePropertyAdmin.view?moduleName=EHR'},
                    {name: 'Set QCState', url: '<%=contextPath%><%=containerPath%>/ehr-ensureQCStates.view'},
                    //{name: 'Reload Study', url: '<%=contextPath%><%=containerPath%>/pipeline-begin.view'},
                    //{name: 'Generate Schema XML', url: '<%=contextPath%>' + '/admin-getSchemaXmlDoc.view?full=true&dbSchema=core'},
                    //{name: 'View Site Errors', url: '<%=contextPath%>' + '/Shared/query-executeQuery.view?schemaName=auditlog&query.queryName=Client%20API%20Actions'}
                    {name: 'UnSchedule BC Reports', url: '<%=contextPath%><%=containerPath%>/wnprc_ehr-UnscheduleBCReports.view'},
                    {name: 'Schedule BC Reports', url: '<%=contextPath%><%=containerPath%>/wnprc_ehr-ScheduleBCReports.view'},
                    {name: 'EHR Extensible Columns', url: '<%=contextPath%><%=containerPath%>/ehr-ehrTemplates.view'},

                ]
            },
            {header: 'Documentation',
                items: [
                    {name: 'Admin/Operations Documentation', url: '<%=contextPath%><%=containerPath%>/Documentation/Admin/project-begin.view'},
                    {name: 'Data Management Documentation', url: '<%=contextPath%><%=containerPath%>/Documentation/Data Management/project-begin.view'},
                    {name: 'Training and Operations Material', url: '<%=contextPath%><%=containerPath%>/Development Notes/project-begin.view'}
                ]
            },
            {header: 'Logs',
                items: [
                    {name: 'All Logs', url: '<%=contextPath%><%=containerPath%>/Logs/project-begin.view'},
                    {name: 'Labkey.log', url: '<%=contextPath%>/files<%=containerPath%>/Logs/%40filesets/Tomcat%20Logs/labkey.log'},
                    {name: 'Labkey-errors.log', url: '<%=contextPath%>/files<%=containerPath%>/Logs/%40filesets/Tomcat%20Logs/labkey-errors.log'},
                    {name: 'ETL Log', url: '<%=contextPath%>/files<%=containerPath%>/Logs/%40filesets/Tomcat%20Logs/ehr-etl.log'},
                    {name: 'ETL Errors Log', url: '<%=contextPath%>/files<%=containerPath%>/Logs/%40filesets/Tomcat%20Logs/ehr-etl-errors.log'},
                    {name: 'ActiveMQ.log', url: '<%=contextPath%>/files<%=containerPath%>/Logs/%40filesets/ActiveMQ/activemq.log'},
                    {name: 'Monit.log', url: '<%=contextPath%>/files<%=containerPath%>/Logs/%40filesets/Monit/monit.log'},
                    {name: 'Munin.log', url: '<%=contextPath%>/files<%=containerPath%>/Logs/%40filesets/Munin/munin.log'},
                    {name: 'Inbreeding Coefficients Reload Cron Job Log', url: '<%=contextPath%>/files<%=containerPath%>/Logs/%40filesets/Kinship/kinshipOut.txt'},
                    {name: 'Kinship Reload Cron Job Log', url: '<%=contextPath%>/files<%=containerPath%>/Logs/%40filesets/Kinship/inbreedingOut.txt'}
                ]
            },
            {header: 'Notifications',
                items: [
                    {name: 'Manage Notification Recipients', url: '<%=contextPath%><%=containerPath%>/ehr-updateTable.view?schemaName=ehr&query.queryName=NotificationRecipients'},
                    {name: 'Notification Admin', url: '<%=contextPath%><%=containerPath%>/ldk-notificationAdmin.view'}

                ]
            },
            {header: 'Monit',
                items: [
                    {name: 'EHR', url: 'http://ehr.primate.wisc.edu:2812/'},
                    {name: 'Test-EHR', url: 'http://test-ehr.primate.wisc.edu:2812/'},
                    {name: 'Gems', url: 'http://gems.primate.wisc.edu:2812/'}
                ]
            },
            {header: 'Munin',
                items: [
                    {name: 'EHR', url: 'http://ehr.primate.wisc.edu:8449/'},
                    {name: 'Test-EHR', url: 'http://test-ehr.primate.wisc.edu/munin/'},
                    {name: 'Gems', url: 'http://gems.primate.wisc.edu/munin/'}
                ]
            },
            {header: 'Other Tables',
                items: [
                    {name: 'Manage Animal History Reports', url: '<%=contextPath%><%=containerPath%>/ehr-updateTable.view?schemaName=ehr&query.queryName=reports'},
                    {name: 'Manage Notification Types', url: '<%=contextPath%><%=containerPath%>/ehr-updateTable.view?schemaName=ehr&query.queryName=NotificationTypes'},
                    {name: 'Manage Form Types', url: '<%=contextPath%><%=containerPath%>/ehr-updateTable.view?schemaName=ehr&query.queryName=formtypes'},
                    {name: 'Manage Form Sections', url: '<%=contextPath%><%=containerPath%>/ehr-updateTable.view?schemaName=ehr&query.queryName=FormPanelSections'},
                    {name: 'Manage Templates', url: '<%=contextPath%><%=containerPath%>/ehr-updateTable.view?schemaName=ehr&query.queryName=formtemplates'},
                    {name: 'Manage Template Records', url: '<%=contextPath%><%=containerPath%>/ehr-updateTable.view?schemaName=ehr&query.queryName=formtemplaterecords'}
                ]
            },
            {header: 'Usage',
                items: [
                    {name: 'Site Logins By Day', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=core&query.queryName=SiteUsageByDay'},
                    {name: 'Site Logins By Month', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=core&query.queryName=SiteUsageByMonth'},
                    {name: 'Site Logins By Group', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=core&query.queryName=SiteUsageByGroup'}
                ]
            },
            {header: 'Validation',
                items: [
                    {name: 'Housing Problems', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=study&query.queryName=housingProblems'},
                    {name: 'Housing Condition Problems', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=study&query.queryName=housingConditionProblems'},
                    {name: 'Postgres/mySQL Comparison', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=col_dump&query.queryName=mysql_check'},
                    {name: 'Postgres/mySQL Comparison - To Excel', url: '<%=contextPath%><%=containerPath%>/query-exportRowsExcel.view?schemaName=col_dump&query.queryName=mysql_check'},
                    {name: 'Review Required', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=study&query.queryName=studyData&query.viewName=Review Required'},
                    {name: 'Rooms/Cages Missing From List', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=ehr&query.queryName=missingCages'},
                    {name: 'Update Housing Snapshot', url: '<%=contextPath%><%=containerPath%>/study-editSnapshot.view?schemaName=study&snapshotName=ActiveHousing&query.queryName=ActiveHousing'},
                    {name: 'Validate Housing Snapshot', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=study&query.queryName=ValidateHousingSnapshot'},
                    {name: 'Validate Status Field Calculation', url: '<%=contextPath%><%=containerPath%>/query-executeQuery.view?schemaName=study&query.queryName=Validate_status'}
                ]
            }
        ]
    })
}

});

</script>