<!--suppress JSUnresolvedFunction -->
<script type="text/javascript" nonce="<%=scriptNonce%>">
    LABKEY.Utils.onReady(function () {
        const el = document.getElementById('generate');
        el['onclick'] = function () { onGenerateClick(el); };
    });

    function onGenerateClick(btn) {
        jQuery(btn).attr('disabled', true);
        PrimateIDModule.generate(function(msg) {
            jQuery('#output').text(msg);
        }).then(function() {
            jQuery('#output').text('Successfully generated PrimateIDs.')
        }).catch(function(e) {
            jQuery('#output').text('Error while generating PrimateIDs. Check browser console.');
            console.error(e);
        }).finally(function() {
            jQuery(btn).attr('disabled', false);
        });
    }
</script>
<div>
    <button id="generate">Generate PrimateIDs</button>
    <span id="output"></span>
</div>